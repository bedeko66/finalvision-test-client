{"ast":null,"code":"var _jsxFileName = \"/Users/bedeko/dev/finervision_dev_test/client/src/Step3.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useForm } from 'react-hook-form';\nimport { useHistory } from 'react-router-dom';\nimport axios from 'axios';\nimport { useData } from \"./DataContext\";\nimport { toast } from 'react-toastify';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Step3 = () => {\n  _s();\n\n  const {\n    setValues,\n    data\n  } = useData(); // const { formData } = useData() \n\n  const history = useHistory();\n  const {\n    register,\n    handleSubmit,\n    errors\n  } = useForm({\n    defaultValues: {\n      comments: data.comments\n    },\n    mode: \"onBlur\"\n  });\n\n  const onSubmit = async usrData => {\n    //send to db\n    try {\n      setValues(usrData);\n      const payload = {\n        firstName: data.firstName,\n        surname: data.surname,\n        email: data.email,\n        phone: data.phone,\n        gender: data.gender,\n        birthdate: data.birthdate,\n        comments: data.comments\n      };\n      console.log(payload);\n      const res = await axios.post('http://localhost:5000/user-form/save', {\n        payload\n      });\n      console.log(res);\n    } catch (error) {\n      toast.warning(error.message);\n    }\n\n    toast(`Thank you ${data.firstName}! Your details are sent!`);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container m-2\",\n    children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n      children: \"Step 1: Your details\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n      children: \"Step 2: More comments\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n      children: \"Step 3: Final comments\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit(onSubmit),\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"comments\",\n        children: \"Comments\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        id: \"commetns\",\n        ...register('comments'),\n        name: \"comments\",\n        type: \"text\",\n        cols: \"30\",\n        rows: \"5\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Next\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Step3, \"lplH3APRCyRGi9wuAnhgkfnSfNs=\", false, function () {\n  return [useData, useHistory, useForm];\n});\n\n_c = Step3;\n\nvar _c;\n\n$RefreshReg$(_c, \"Step3\");","map":{"version":3,"sources":["/Users/bedeko/dev/finervision_dev_test/client/src/Step3.js"],"names":["React","useForm","useHistory","axios","useData","toast","Step3","setValues","data","history","register","handleSubmit","errors","defaultValues","comments","mode","onSubmit","usrData","payload","firstName","surname","email","phone","gender","birthdate","console","log","res","post","error","warning","message"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,iBAAxB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,eAAxB;AACA,SAASC,KAAT,QAAsB,gBAAtB;;AAGA,OAAO,MAAMC,KAAK,GAAG,MAAM;AAAA;;AAE3B,QAAM;AAAEC,IAAAA,SAAF;AAAaC,IAAAA;AAAb,MAAsBJ,OAAO,EAAnC,CAF2B,CAG3B;;AACA,QAAMK,OAAO,GAAGP,UAAU,EAA1B;AAEA,QAAM;AAAEQ,IAAAA,QAAF;AAAYC,IAAAA,YAAZ;AAA0BC,IAAAA;AAA1B,MAAqCX,OAAO,CAAC;AAC/CY,IAAAA,aAAa,EAAE;AACXC,MAAAA,QAAQ,EAAEN,IAAI,CAACM;AADJ,KADgC;AAI/CC,IAAAA,IAAI,EAAE;AAJyC,GAAD,CAAlD;;AAQA,QAAMC,QAAQ,GAAG,MAAOC,OAAP,IAAmB;AAChC;AACA,QAAI;AACAV,MAAAA,SAAS,CAACU,OAAD,CAAT;AAEA,YAAMC,OAAO,GAAG;AACZC,QAAAA,SAAS,EAAEX,IAAI,CAACW,SADJ;AAEZC,QAAAA,OAAO,EAAEZ,IAAI,CAACY,OAFF;AAGZC,QAAAA,KAAK,EAAEb,IAAI,CAACa,KAHA;AAIZC,QAAAA,KAAK,EAAEd,IAAI,CAACc,KAJA;AAKZC,QAAAA,MAAM,EAAEf,IAAI,CAACe,MALD;AAMZC,QAAAA,SAAS,EAAEhB,IAAI,CAACgB,SANJ;AAOZV,QAAAA,QAAQ,EAAEN,IAAI,CAACM;AAPH,OAAhB;AAUAW,MAAAA,OAAO,CAACC,GAAR,CAAYR,OAAZ;AACA,YAAMS,GAAG,GAAG,MAAMxB,KAAK,CAACyB,IAAN,CAAW,sCAAX,EAAmD;AAAEV,QAAAA;AAAF,OAAnD,CAAlB;AACAO,MAAAA,OAAO,CAACC,GAAR,CAAYC,GAAZ;AACH,KAhBD,CAgBE,OAAOE,KAAP,EAAc;AACZxB,MAAAA,KAAK,CAACyB,OAAN,CAAcD,KAAK,CAACE,OAApB;AACH;;AAED1B,IAAAA,KAAK,CAAE,aAAYG,IAAI,CAACW,SAAU,0BAA7B,CAAL;AACH,GAvBD;;AAyBI,sBACI;AAAK,IAAA,SAAS,EAAC,eAAf;AAAA,4BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFJ,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAHJ,eAII;AAAM,MAAA,QAAQ,EAAER,YAAY,CAACK,QAAD,CAA5B;AAAA,8BACI;AAAO,QAAA,OAAO,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AACA,QAAA,EAAE,EAAC,UADH;AAAA,WAEIN,QAAQ,CAAC,UAAD,CAFZ;AAGA,QAAA,IAAI,EAAC,UAHL;AAIA,QAAA,IAAI,EAAC,MAJL;AAKA,QAAA,IAAI,EAAC,IALL;AAKU,QAAA,IAAI,EAAC;AALf;AAAA;AAAA;AAAA;AAAA,cAFJ,eAQI;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cARJ;AAAA;AAAA;AAAA;AAAA;AAAA,YAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAiBH,CAxDM;;GAAMJ,K;UAEeF,O,EAEZF,U,EAE2BD,O;;;KAN9BK,K","sourcesContent":["import React from 'react';\nimport { useForm } from 'react-hook-form';\nimport { useHistory } from 'react-router-dom';\nimport axios from 'axios';\nimport { useData } from \"./DataContext\";\nimport { toast } from 'react-toastify';\n\n\nexport const Step3 = () => {\n\nconst { setValues, data } = useData();\n// const { formData } = useData() \nconst history = useHistory();\n\nconst { register, handleSubmit, errors } = useForm({\n    defaultValues: { \n        comments: data.comments,\n     },\n    mode: \"onBlur\",\n});\n\n\nconst onSubmit = async (usrData) => {\n    //send to db\n    try {\n        setValues(usrData)\n        \n        const payload = {\n            firstName: data.firstName,\n            surname: data.surname,\n            email :data.email,\n            phone: data.phone,\n            gender: data.gender,\n            birthdate: data.birthdate,\n            comments: data.comments\n        }\n        \n        console.log(payload);\n        const res = await axios.post('http://localhost:5000/user-form/save', { payload })\n        console.log(res)\n    } catch (error) {\n        toast.warning(error.message);\n    }\n\n    toast(`Thank you ${data.firstName}! Your details are sent!`)\n}\n\n    return (\n        <div className=\"container m-2\">\n            <h5>Step 1: Your details</h5>\n            <h5>Step 2: More comments</h5>\n            <h5>Step 3: Final comments</h5>\n            <form onSubmit={handleSubmit(onSubmit)}> \n                <label htmlFor=\"comments\">Comments</label>\n                <textarea \n                id=\"commetns\"\n                {...register('comments')} \n                name=\"comments\" \n                type=\"text\" \n                cols=\"30\" rows=\"5\"></textarea>\n                <button type=\"submit\">Next</button>\n            </form>\n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}