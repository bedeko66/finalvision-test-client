{"ast":null,"code":"var _jsxFileName = \"/Users/bedeko/dev/finervision_dev_test/client/src/Step4.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { useHistory } from 'react-router-dom';\nimport { useData } from \"./DataContext\";\nimport { toast } from 'react-toastify';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const FormDataCheck = () => {\n  _s();\n\n  const history = useHistory();\n  const {\n    setValues,\n    data\n  } = useData();\n  const [finalData, setFinalData] = useState({});\n  useEffect(() => {\n    setFinalData(data); // eslint-disable-next-line\n  }, []);\n\n  const handleSubmit = async usrData => {\n    //send to db\n    try {\n      const payload = {\n        firstname: data.firstName,\n        surname: data.surname,\n        email: data.email,\n        phone: data.phone,\n        gender: data.gender,\n        birthdate: data.birthday + '-' + data.birthmonth + '-' + data.birthyear,\n        comments: data.comments\n      };\n      console.log(payload);\n      const res = await axios.post('http://localhost:5000/user-form/save', {\n        payload\n      });\n      console.log(res);\n    } catch (error) {\n      toast.warning(error.message);\n    }\n\n    toast(`Thank you ${data.firstName}! Your details are sent!`);\n    history.push(\"/\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n      children: \"Step 1: Your details\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n      children: \"Step 2: More comments\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n      children: \"Step 3: Final comments\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n        children: \"My Details\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"First Name:\", finalData.firstName]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Surname: \", finalData.surname]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Email: \", finalData.email]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Telephone: \", finalData.phone]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Gender: \", finalData.gender]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Date of Birth: \", finalData.birthday + '-' + finalData.birthmonth + '-' + finalData.birthyear]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Comments: \", finalData.comments]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: handleSubmit,\n        className: \"btn\",\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 9\n  }, this);\n};\n\n_s(FormDataCheck, \"oWCYlZUJX6pcxmj6dCR19i6tjxI=\", false, function () {\n  return [useHistory, useData];\n});\n\n_c = FormDataCheck;\n\nvar _c;\n\n$RefreshReg$(_c, \"FormDataCheck\");","map":{"version":3,"sources":["/Users/bedeko/dev/finervision_dev_test/client/src/Step4.js"],"names":["React","useEffect","useState","axios","useHistory","useData","toast","FormDataCheck","history","setValues","data","finalData","setFinalData","handleSubmit","usrData","payload","firstname","firstName","surname","email","phone","gender","birthdate","birthday","birthmonth","birthyear","comments","console","log","res","post","error","warning","message","push"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { useHistory } from 'react-router-dom';\nimport { useData } from \"./DataContext\";\nimport { toast } from 'react-toastify';\n\n\nexport const FormDataCheck = () => {\n    const history = useHistory();\n    const { setValues, data } = useData();\n    const [finalData, setFinalData] = useState({})\n\n    useEffect(() => { \n        setFinalData(data)\n        // eslint-disable-next-line\n    },[]);\n\n    const handleSubmit = async (usrData) => {\n        //send to db\n        try {\n            \n            const payload = {\n                firstname: data.firstName,\n                surname: data.surname,\n                email :data.email,\n                phone: data.phone,\n                gender: data.gender,\n                birthdate:  data.birthday + '-' + data.birthmonth + '-' + data.birthyear,\n                comments: data.comments\n            }\n            \n            console.log(payload);\n            const res = await axios.post('http://localhost:5000/user-form/save', { payload })\n            console.log(res)\n        } catch (error) {\n            toast.warning(error.message);\n        }\n    \n        toast(`Thank you ${data.firstName}! Your details are sent!`);\n        history.push(\"/\")\n    }\n    return ( \n        <div className=\"container\">\n            <h5>Step 1: Your details</h5>\n            <h5>Step 2: More comments</h5>\n            <h5>Step 3: Final comments</h5>\n            <div>\n                <h5>My Details</h5>\n                <p>First Name:{finalData.firstName}</p>\n                <p>Surname: {finalData.surname}</p>\n                <p>Email: {finalData.email}</p>\n                <p>Telephone: {finalData.phone}</p>\n                <p>Gender: {finalData.gender}</p>\n                <p>Date of Birth: {finalData.birthday + '-' + finalData.birthmonth + '-' + finalData.birthyear}</p>\n                <p>Comments: {finalData.comments}</p>\n                <button type=\"button\" onClick={handleSubmit} className=\"btn\">Submit</button>\n            </div>\n        </div>\n     );\n}\n"]},"metadata":{},"sourceType":"module"}