{"ast":null,"code":"var _jsxFileName = \"/Users/bedeko/dev/finervision_dev_test/client/src/Step2.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { useHistory } from 'react-router-dom';\nimport { useData } from \"./DataContext\";\nimport Joi from \"joi-browser\";\nimport { toast } from 'react-toastify';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Step2 = () => {\n  _s();\n\n  const history = useHistory();\n  const {\n    setValues,\n    data\n  } = useData();\n  const {\n    register,\n    handleSubmit,\n    errors\n  } = useForm({\n    defaultValues: {\n      phone: data.phone,\n      gender: data.gender,\n      birthday: data.birthday,\n      birthmonth: data.birthmonth,\n      birthyear: data.birthyear\n    },\n    mode: \"onBlur\"\n  });\n  const schema = {\n    phone: Joi.number().min(10).required().label(\"Phone\"),\n    gender: Joi.string().alphanum().label(\"Gender\"),\n    birthday: Joi.number().min(1).max(31).label(\"Day of birth\"),\n    birthmonth: Joi.number().min(1).max(12).label(\"Month of birth\"),\n    birthyear: Joi.number().min(1900).max(2021).label(\"Year of birth\")\n  };\n\n  const validate = usrData => {\n    const options = {\n      abortEarly: false\n    };\n    const result = Joi.validate(usrData, schema, options);\n    if (!result.error) return null;\n    let v_errors = {};\n\n    for (let item of result.error.details) {\n      v_errors[item.path[0]] = item.message;\n    }\n\n    return v_errors;\n  };\n\n  const onSubmit = usrData => {\n    let errors = validate(usrData);\n\n    if (errors) {\n      Object.values(errors).forEach(err => {\n        toast.error(err);\n        return;\n      });\n    } else {\n      setValues(usrData);\n      history.push(\"/step3\");\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container m-2 d-flex flex-column align-center\",\n    children: /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"module\",\n      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n        className: \"tab\",\n        children: \"Step 1: Your details\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n        className: \"tab\",\n        children: \"Step 2: More comments\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit(onSubmit),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex m-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group col-xs-4 col-md-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"phone\",\n              children: \"Telephone number\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", { ...register('phone'),\n              name: \"phone\",\n              type: \"text\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group col-xs-4 col-md-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"gender\",\n              children: \"Gender\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", { ...register('gender'),\n              name: \"gender\",\n              id: \"gender\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"male\",\n                children: \"Male\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"female\",\n                children: \"Female\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group col-xs-4 col-md-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Date of Birth\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", { ...register('birthday'),\n              name: \"birthday\",\n              min: \"1\",\n              max: \"31\",\n              type: \"number\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group col-xs-4 col-md-4\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", { ...register('birthmonth'),\n              name: \"birthmonth\",\n              min: \"1\",\n              max: \"12\",\n              type: \"number\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group col-xs-4 col-md-4\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", { ...register('birthyear'),\n              name: \"birthyear\",\n              min: \"1920\",\n              max: \"2021\",\n              type: \"number\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-primary\",\n          children: \"Next\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n        className: \"tab\",\n        children: \"Step 3: Final comments\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 14\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Step2, \"1bvUjjG26Fks+l+PP9Rs9G9/ue4=\", false, function () {\n  return [useHistory, useData, useForm];\n});\n\n_c = Step2;\n\nvar _c;\n\n$RefreshReg$(_c, \"Step2\");","map":{"version":3,"sources":["/Users/bedeko/dev/finervision_dev_test/client/src/Step2.js"],"names":["React","useState","useForm","useHistory","useData","Joi","toast","Step2","history","setValues","data","register","handleSubmit","errors","defaultValues","phone","gender","birthday","birthmonth","birthyear","mode","schema","number","min","required","label","string","alphanum","max","validate","usrData","options","abortEarly","result","error","v_errors","item","details","path","message","onSubmit","Object","values","forEach","err","push"],"mappings":"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","sourcesContent":["import React,  { useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { useHistory } from 'react-router-dom';\nimport { useData } from \"./DataContext\";\n\nimport Joi from \"joi-browser\";\nimport { toast } from 'react-toastify';\n\nimport './App.css';\n\nexport const Step2 = () => {\n\nconst history = useHistory();\n\nconst { setValues, data } = useData();\n\nconst { register, handleSubmit, errors } = useForm({\n    defaultValues: { \n        phone: data.phone,\n        gender: data.gender,\n        birthday: data.birthday,\n        birthmonth: data.birthmonth,\n        birthyear: data.birthyear\n     },\n    mode: \"onBlur\",\n});\n\nconst schema = {\n    phone: Joi.number().min(10).required().label(\"Phone\"),\n    gender: Joi.string().alphanum().label(\"Gender\"),\n    birthday: Joi.number().min(1).max(31).label(\"Day of birth\"),\n    birthmonth: Joi.number().min(1).max(12).label(\"Month of birth\"),\n    birthyear: Joi.number().min(1900).max(2021).label(\"Year of birth\"),\n}\nconst validate = (usrData) => {\n    const options = { abortEarly: false };\n   \n    const result = Joi.validate(usrData, schema, options);\n    if (!result.error) return null;\n    \n    let v_errors = {};\n    for (let item of result.error.details) {\n        v_errors[item.path[0]] = item.message;\n    }\n    return v_errors;\n}\n\nconst onSubmit = (usrData) => {\n\n    let errors = validate(usrData);\n    if (errors) {\n        Object.values(errors).forEach(err => {\n            toast.error(err)\n            return\n        })\n    } else {  \n        setValues(usrData)\n        history.push(\"/step3\")\n    }\n}\n\n    return (\n        <div className=\"container m-2 d-flex flex-column align-center\">\n             <section className=\"module\">\n            <h5 className=\"tab\">Step 1: Your details</h5>\n            <h5 className=\"tab\">Step 2: More comments</h5>\n            <form onSubmit={handleSubmit(onSubmit)}>\n\n                <div className=\"d-flex m-4\">\n                    <div className=\"form-group col-xs-4 col-md-4\">\n                        <label htmlFor=\"phone\">Telephone number</label>\n                        <input \n                            {...register('phone')}\n                            name=\"phone\" \n                            type=\"text\" \n                        />\n                    </div>\n                    <div className=\"form-group col-xs-4 col-md-4\">\n                        <label htmlFor=\"gender\">Gender</label>\n                            <select {...register('gender')} name=\"gender\" id=\"gender\">\n                                <option value=\"male\">Male</option>\n                                <option value=\"female\">Female</option>\n                            </select>\n                    </div>\n                    </div>\n                    <div className=\"d-flex\">\n                        <div className=\"form-group col-xs-4 col-md-4\">\n\n                            <label>Date of Birth</label>\n                            <input \n                            {...register('birthday')}\n                                name=\"birthday\"\n                                min=\"1\" max=\"31\"\n                                type=\"number\"\n                            />\n                        </div>\n\n                        <div className=\"form-group col-xs-4 col-md-4\">\n                        <input \n                            {...register('birthmonth')} \n                            name=\"birthmonth\" min=\"1\" \n                            max=\"12\" type=\"number\" \n                        />\n                        </div>\n                        <div className=\"form-group col-xs-4 col-md-4\">\n                        <input \n                        {...register('birthyear')} \n                            name=\"birthyear\" \n                            min=\"1920\"\n                            max=\"2021\" \n                            type=\"number\" \n                        />\n                        </div>\n                    </div>\n                    <button type=\"submit\" className=\"btn btn-primary\">Next</button>\n            </form>\n            <h5 className=\"tab\">Step 3: Final comments</h5>\n            </section>\n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}